/**
 * Popup Maker: Remote Content v1.0.0
 */
!function(e){"use strict";void 0===e.expr[":"].external&&(e.expr[":"].external=function(e){return e&&e.href&&!e.href.match(/^mailto:/)&&e.hostname!=document.location.hostname}),void 0===e.expr[":"].internal&&void 0!==e.expr[":"].external&&(e.expr[":"].internal=function(t){return e(t).is(":not(:external)")}),e.fn.popmake.rc_user_args={},e(".popmake.remote-content").on("popmakeInit",function(){var t=e(this),a=t.data("popmake"),o=a.meta.remote_content,n=e(".popmake-content",t),p={};e.fn.popmake.rc_user_args[a.id]={},p.top=parseInt(e(".popmake-title",t).css("line-height"))+parseInt(t.css("padding-top"))+"px",p.maxHeight="calc(100% - "+(parseInt(p.top)+parseInt(t.css("padding-bottom")))+"px)",p.maxWidth="calc(100% - "+(parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")))+"px)",n.addClass("popmake-remote-content").css({left:t.css("padding-left"),top:p.top,maxWidth:p.maxWidth,maxHeight:p.maxHeight}),"iframe"!==o.type||e("#popmake-remote-content-iframe",n).length||n.append('<iframe src="" id="popmake-remote-content-iframe">')}).on("popmakeBeforeOpen",function(){var t=e(this),a=t.data("popmake"),o=a.meta.remote_content,n=e(".popmake-remote-content",t),p=e(".popmake-loader",n);p.length||(p=e('<div class="popmake-loader">').appendTo(t)),p.addClass(o.loading_icon).fadeIn(0),n.fadeOut(0)}).on("popmakeAfterOpen",function(){var t=e(this),a=t.data("popmake"),o=a.meta.remote_content,n=e(".popmake-remote-content",t),p=e(e.fn.popmake.last_open_trigger),r=e("#popmake-remote-content-iframe",n),m=e(".popmake-loader",t),s={};switch(o.type){case"loadselector":""!==p.attr("href")&&n.load(p.attr("href")+" "+o.css_selector,function(){m.fadeOut("slow"),n.fadeIn("slow")});break;case"iframe":""!==p.attr("href")&&r.off("load.popmake_rc").on("load.popmake_rc",function(){n.fadeIn("slow"),m.fadeOut("slow")}).prop("src",p.attr("href"));break;case"ajax":t.trigger("popmakeRcBeforeAjax"),s=e.extend({},{action:"popmake_rc",popup_id:a.id},e.fn.popmake.rc_user_args[a.id]),e.ajax({method:"POST",dataType:"json",url:ajaxurl,data:s}).done(function(e){n.html(e.content).fadeIn("slow"),m.fadeOut("slow")})}})}(jQuery);